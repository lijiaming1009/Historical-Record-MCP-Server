# 历史记录自动化蓝图

## 目标

实现用户在聊天界面发送的每一条消息都被自动记录到 `db.json` 中。

## 核心命令

这是实现自动记录所需要执行的核心命令。命令中的 `"{message}"` 需要被替换为用户发送的实际消息内容。

```bash
python client.py --add "{message}"
```

## 集成思路

由于AI模型本身无法监听用户的输入行为，需要借助外部工具来触发上述命令。以下是一些可能的集成方向：

1.  **快捷键/宏工具**:
    *   使用如 `AutoHotkey` (Windows) 或 `Keyboard Maestro` (macOS) 等工具。
    *   创建一个宏，当您按下某个特定的快捷键（例如 `Ctrl+Enter`）时，该工具会：
        1.  复制您在输入框中输入的文本。
        2.  将文本发送到聊天界面。
        3.  在后台执行上述核心命令，将复制的文本作为 `{message}` 参数传入。

2.  **修改聊天客户端 (如果可能)**:
    *   如果正在使用的聊天客户端支持插件或自定义脚本，可以编写一个插件。
    *   该插件会监听“消息发送”事件，并在事件触发时，调用上述核心命令。

3.  **自定义启动器**:
    *   创建一个简单的本地应用或脚本，它提供一个输入框。
    *   您在这个输入框中输入消息并点击“发送”，该应用会同时将消息发送给AI并执行记录命令。

## 结论

本项目已经提供了实现自动化记录所需的所有后端和命令行工具 (`client.py --add "..."`)。实现完全自动化的最后一步，是将这个命令与您的输入行为进行“绑定”，这需要通过上述外部工具来完成。
